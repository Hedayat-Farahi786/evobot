<!-- Signals Page View -->
                <div class="page-view" :class="{ active: activeNavItem === 'signals' }">
                    <div class="page-header">
                        <div>
                            <h1>Telegram Signals</h1>
                            <p>Real-time incoming signals from configured channels</p>
                        </div>
                        <button class="btn" @click="refreshSignals" v-if="status.bot_running">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
                            Refresh
                        </button>
                    </div>
                    <div class="settings-container" v-if="!status.bot_running">
                        <div class="bot-stopped-placeholder">
                            <div class="bot-stopped-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"/>
                                    <path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5"/>
                                    <circle cx="12" cy="12" r="2"/>
                                    <path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"/>
                                    <path d="M19.1 4.9C23 8.8 23 15.1 19.1 19"/>
                                </svg>
                            </div>
                            <div class="bot-stopped-title">No Signals Available</div>
                            <div class="bot-stopped-subtitle">The bot needs to be running to receive and process Telegram signals. Start the bot to monitor your configured channels in real-time.</div>
                            <div class="bot-stopped-actions">
                                <button v-if="!account.login" class="btn-start" @click="showMT5LoginModal = true" style="background: var(--bg-secondary); color: var(--text); border: 1px solid var(--border);">
                                    <img src="/assets/logos/mt5.webp" alt="MT5" style="width: 18px; height: 18px; margin-right: 8px; border-radius: 3px;" />
                                    Connect MT5
                                </button>
                                <button v-else class="btn-start" @click="startBot" :disabled="loading.start || (!status.telegram_connected && !telegramSessionValid)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="6 3 20 12 6 21 6 3"/></svg>
                                    Start Bot
                                </button>
                                <div class="bot-stopped-status" :class="{ ready: account.login && (telegramSessionValid || status.telegram_connected) }">
                                    <span class="status-dot"></span>
                                    <span v-if="!account.login">MT5 account required</span>
                                    <span v-else-if="(telegramSessionValid || status.telegram_connected)">Ready to start</span>
                                    <span v-else>Configure Telegram first</span>
                                </div>
                            </div>
                            <div class="bot-stopped-features">
                                <div class="bot-stopped-feature">
                                    <div class="bot-stopped-feature-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
                                    </div>
                                    <span>Signal Monitoring</span>
                                </div>
                                <div class="bot-stopped-feature">
                                    <div class="bot-stopped-feature-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                                    </div>
                                    <span>Content Parsing</span>
                                </div>
                                <div class="bot-stopped-feature">
                                    <div class="bot-stopped-feature-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.9 14.1 22 2"/><path d="M2 22 9.9 14.1"/><circle cx="12" cy="12" r="10"/></svg>
                                    </div>
                                    <span>Trade Entry</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-container" v-else>
                        <div class="settings-card" style="max-width: 100%;">
                            <div class="settings-card-body" style="padding: 0;">
                                <table v-if="signals.length > 0" style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th>Time</th>
                                            <th>Channel</th>
                                            <th>Symbol</th>
                                            <th>Action</th>
                                            <th>Details</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="signal in signals" :key="signal.id">
                                            <td style="white-space: nowrap; font-size: 12px; color: var(--text-muted);">[[ signal.time ]]</td>
                                            <td>
                                                <div style="display: flex; align-items: center; gap: 8px;">
                                                    <div class="channel-result-photo" style="width: 24px; height: 24px;">
                                                        <img v-if="hasChannelPhoto(signal.channel_id)" :src="'/api/telegram/channel/' + signal.channel_id + '/photo'" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" />
                                                        <span v-else style="font-size: 10px;">#</span>
                                                    </div>
                                                    <span style="font-weight: 500;">[[ signal.channel_name || signal.channel_id ]]</span>
                                                </div>
                                            </td>
                                            <td class="symbol-cell">[[ signal.symbol || '-' ]]</td>
                                            <td><span class="badge" :class="signal.action === 'BUY' ? 'direction-buy' : (signal.action === 'SELL' ? 'direction-sell' : 'status-pending')">[[ signal.action || 'UNKNOWN' ]]</span></td>
                                            <td style="max-width: 300px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 13px;">[[ signal.raw_text ]]</td>
                                            <td><span class="badge" :class="'status-' + (signal.status || 'pending').toLowerCase()">[[ signal.status || 'Received' ]]</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="empty-state" v-else style="padding: 60px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"/><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5"/><circle cx="12" cy="12" r="2"/><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"/><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19"/></svg>
                                    <div style="margin-top: 16px; font-size: 14px;">No signals received yet</div>
                                    <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Incoming signals from Telegram will appear here</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
